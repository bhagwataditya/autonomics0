% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_omics.R
\name{prepare_proteingroups}
\alias{prepare_proteingroups}
\title{Prepare proteingroups}
\usage{
prepare_proteingroups(object, filter_reverse = TRUE,
  filter_contaminants = TRUE, filter_complete_nondetects = TRUE,
  log2transform = TRUE, impute_consistent_nas = TRUE,
  deconvolution_fastafile = NULL, verbose = TRUE, plot = TRUE)
}
\arguments{
\item{filter_reverse}{logical(1).           Filter out "reverse peptide" groups (used for peptide identification FDR computation)?}

\item{filter_contaminants}{logical(1).           Filter out contaminant groups?}

\item{filter_complete_nondetects}{logical(1).           Filter out proteingroups with no quantification for any sample?}

\item{log2transform}{logical(1).           log2 transform?}

\item{impute_consistent_nas}{logical(1).           Whether to impute consistent NA values (i.e. NA values replicated in all samples of the same subgroup)}

\item{deconvolution_fastafile}{NULL or character(1). Deconvolute proteingroups using this fastafile (optional)}

\item{verbose}{logical(1).           Message progress?}
}
\description{
Prepare proteingroups
}
\examples{
require(magrittr)
if (require(autonomics.data)){

   # Read
   object <- 'extdata/stemdiff/maxquant/proteinGroups.txt' \%>\%
              system.file(package = 'autonomics.data') \%>\%  
              autonomics::read_proteingroups()
              
   # Check and remedy subgroup definitions
   object$subgroup \%>\% unique()
   object \%<>\% autonomics.import::filter_samples(
                  stringi::stri_detect_fixed(subgroup, 'STD') &
                  stringi::stri_detect_fixed(subgroup, 'BLANK', negate = TRUE), 
                  verbose = TRUE)
   object$subgroup \%<>\% stringi::stri_replace_first_fixed('_STD', '')
   object$subgroup \%<>\% factor(c('EM00', 'EM01', 'EM02', 'EM05', 'EM15', 'EM30', 'BM00'))
   
   # Prepare
   object \%<>\% autonomics::prepare_proteingroups()
   object \%>\% autonomics::plot_detects_per_subgroup()
}
if (require(graumann.lfq)){
   file <- system.file('extdata/proteinGroups.txt', package = 'graumann.lfq')
   file \%>\% autonomics::read_proteingroups()
   file \%>\% autonomics::read_proteingroups() \%>\% prepare_proteingroups()
}
}
